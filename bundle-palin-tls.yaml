applications:
  nextcloud:
    charm: ./nextcloud.charm
    options:
      fqdn: palin.pl
    num_units: 1
    expose: true
    series: bionic
    annotations:
      gui-x: 485
      gui-y: 380
    to:
      - '0'
  nextcloud-fqdn:
    charm: 'cs:~tengu-team/ssl-termination-fqdn'
    options:
      fqdns: palin.pl
    series: bionic
    annotations:
      gui-x: '685'
      gui-y: '210'
  postgresql:
    charm: 'cs:postgresql'
    num_units: 1
    series: bionic
    annotations:
      gui-x: 480
      gui-y: 670
    to:
      - '1'
  ssl-termination-proxy:
    charm: 'cs:~tengu-team/ssl-termination-proxy'
    num_units: 1
    expose: true
    series: bionic
    annotations:
      gui-x: '810'
      gui-y: '-15'
    to:
      - '2'
relations:
  - - 'postgresql:db'
    - 'nextcloud:db'
  - - 'nextcloud:website'
    - 'nextcloud-fqdn:website'
  - - 'nextcloud-fqdn:ssl-termination'
    - 'ssl-termination-proxy:ssl-termination'
machines:
  '0':
    series: bionic
  '1':
    series: bionic
  '2':
    series: bionic
